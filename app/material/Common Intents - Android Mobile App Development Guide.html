
<!doctype html>
<html lang="en" class="no-js">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="Android Common Intents">
<script src="/cdn-cgi/apps/head/6NY5l1iw8Nanhg_xPJ9iOJlzUgc.js"></script><link rel="canonical" href="https://guides.peruzal.com/xamarin-forms-guide/common-intents/">
<meta name="lang:clipboard.copy" content="Copy to clipboard">
<meta name="lang:clipboard.copied" content="Copied to clipboard">
<meta name="lang:search.language" content="en">
<meta name="lang:search.pipeline.stopwords" content="True">
<meta name="lang:search.pipeline.trimmer" content="True">
<meta name="lang:search.result.none" content="No matching documents">
<meta name="lang:search.result.one" content="1 matching document">
<meta name="lang:search.result.other" content="# matching documents">
<meta name="lang:search.tokenizer" content="[\s\-]+">
<link rel="shortcut icon" href="../assets/images/favicon.png">
<meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
<title>Common Intents - Android Mobile App Development Guide</title>
<link rel="stylesheet" href="../assets/stylesheets/application.0284f74d.css">
<link rel="stylesheet" href="../assets/stylesheets/application-palette.01803549.css">
<meta name="theme-color" content="#ffa000">
<script src="../assets/javascripts/modernizr.74668098.js"></script>
<link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
<style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
<link rel="stylesheet" href="../assets/fonts/material-icons.css">
</head>
<body dir="ltr" data-md-color-primary="amber" data-md-color-accent="deep-orange">
<svg class="md-svg">
<defs>
<svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z" /></svg>
</defs>
</svg>
<input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
<input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
<a href="#common-implicit-intents" tabindex="1" class="md-skip">
Skip to content
</a>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a href="https://guides.peruzal.com/xamarin-forms-guide" title="Android Mobile App Development Guide" class="md-header-nav__button md-logo">
<img src="../images/logo-lines.png" width="24" height="24">
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
Android Mobile App Development Guide
</span>
<span class="md-header-nav__topic">
Common Intents
</span>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
<label class="md-icon md-search__icon" for="__search"></label>
<button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
&#xE5CD;
</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix>
<div class="md-search-result" data-md-component="result">
<div class="md-search-result__meta">
Type to start searching
</div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<div class="md-header-nav__source">
<a href="https://github.com/Peruzal/xamarin-forms-guide/" title="Go to repository" class="md-source" data-md-source="github">
<div class="md-source__icon">
<svg viewBox="0 0 24 24" width="24" height="24">
<use xlink:href="#__github" width="24" height="24"></use>
</svg>
</div>
<div class="md-source__repository">
Github
</div>
</a>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container">
<main class="md-main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title md-nav__title--site" for="__drawer">
<a href="https://guides.peruzal.com/xamarin-forms-guide" title="Android Mobile App Development Guide" class="md-nav__button md-logo">
<img src="../images/logo-lines.png" width="48" height="48">
</a>
Android Mobile App Development Guide
</label>
<div class="md-nav__source">
<a href="https://github.com/Peruzal/xamarin-forms-guide/" title="Go to repository" class="md-source" data-md-source="github">
<div class="md-source__icon">
<svg viewBox="0 0 24 24" width="24" height="24">
<use xlink:href="#__github" width="24" height="24"></use>
</svg>
</div>
<div class="md-source__repository">
Github
</div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix>
<li class="md-nav__item">
<a href=".." title="Getting Started" class="md-nav__link">
Getting Started
</a>
</li>
<li class="md-nav__item">
<a href="../project-structure/" title="Android Project Structure" class="md-nav__link">
Android Project Structure
</a>
</li>
<li class="md-nav__item">
<a href="../android-resources/" title="Understanding App Resources" class="md-nav__link">
Understanding App Resources
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
<label class="md-nav__link" for="nav-4">
Android Common View
</label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="1">
<label class="md-nav__title" for="nav-4">
Android Common View
</label>
<ul class="md-nav__list" data-md-scrollfix>
<li class="md-nav__item">
<a href="../android-common-views/view-attributes/" title="View Attributes" class="md-nav__link">
View Attributes
</a>
</li>
<li class="md-nav__item">
<a href="../android-common-views/textview/" title="TextView" class="md-nav__link">
TextView
</a>
</li>
<li class="md-nav__item">
<a href="../android-common-views/button/" title="Button" class="md-nav__link">
Button
</a>
</li>
<li class="md-nav__item">
<a href="../android-common-views/edittext/" title="EditText" class="md-nav__link">
EditText
</a>
</li>
<li class="md-nav__item">
<a href="../android-common-views/image-view/" title="ImageView" class="md-nav__link">
ImageView
</a>
</li>
<li class="md-nav__item">
<a href="../android-common-views/image-button/" title="ImageButton" class="md-nav__link">
ImageButton
</a>
</li>
<li class="md-nav__item">
<a href="../android-common-views/radio-button/" title="RadioButton" class="md-nav__link">
RadioButton
</a>
</li>
<li class="md-nav__item">
<a href="../android-common-views/view/" title="View" class="md-nav__link">
View
</a>
</li>
<li class="md-nav__item">
<a href="../android-common-views/spinner/" title="Spinner" class="md-nav__link">
Spinner
</a>
</li>
<li class="md-nav__item">
<a href="../android-common-views/checkbox/" title="CheckBox" class="md-nav__link">
CheckBox
</a>
</li>
<li class="md-nav__item">
<a href="../android-common-views/switch/" title="Switch" class="md-nav__link">
Switch
</a>
</li>
<li class="md-nav__item">
<a href="../android-common-views/seek-bar/" title="SeekBar" class="md-nav__link">
SeekBar
</a>
</li>
<li class="md-nav__item">
<a href="../android-common-views/rating-bar/" title="RatingBar" class="md-nav__link">
RatingBar
</a>
</li>
<li class="md-nav__item">
<a href="../android-common-views/progress-bar/" title="ProgressBar" class="md-nav__link">
ProgressBar
</a>
</li>
<li class="md-nav__item">
<a href="../android-common-views/search-view/" title="SearchView" class="md-nav__link">
SearchView
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
<label class="md-nav__link" for="nav-5">
Layouts
</label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="1">
<label class="md-nav__title" for="nav-5">
Layouts
</label>
<ul class="md-nav__list" data-md-scrollfix>
<li class="md-nav__item">
<a href="../layouts/overview/" title="Layouts Overview" class="md-nav__link">
Layouts Overview
</a>
</li>
<li class="md-nav__item">
<a href="../layouts/linear-layout/" title="Linear Layout" class="md-nav__link">
Linear Layout
</a>
</li>
<li class="md-nav__item">
<a href="../layouts/relative-layout/" title="Relative Layout" class="md-nav__link">
Relative Layout
</a>
</li>
<li class="md-nav__item">
<a href="../layouts/frame-layout/" title="Frame Layout" class="md-nav__link">
Frame Layout
</a>
</li>
<li class="md-nav__item">
<a href="../layouts/constraint-layout/" title="Constraint Layout" class="md-nav__link">
Constraint Layout
</a>
</li>
<li class="md-nav__item">
<a href="../layouts/layout-performance/" title="Optimizing Layout Performance" class="md-nav__link">
Optimizing Layout Performance
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a href="../activities/" title="Activities" class="md-nav__link">
Activities
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
<label class="md-nav__link" for="nav-7">
Navigation
</label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="1">
<label class="md-nav__title" for="nav-7">
Navigation
</label>
<ul class="md-nav__list" data-md-scrollfix>
<li class="md-nav__item">
<a href="../navigation/common-navigation-patterns/" title="Common Navigation Patterns" class="md-nav__link">
Common Navigation Patterns
</a>
</li>
<li class="md-nav__item">
<a href="../navigation/intents/" title="Navigation with Intents" class="md-nav__link">
Navigation with Intents
</a>
</li>
<li class="md-nav__item">
<a href="../navigation/swipe-tabbed-navigation/" title="Swipe and Tabbed Navigation" class="md-nav__link">
Swipe and Tabbed Navigation
</a>
</li>
<li class="md-nav__item">
<a href="../navigation/navigation-drawer/" title="Navigation Drawer" class="md-nav__link">
Navigation Drawer
</a>
</li>
<li class="md-nav__item">
<a href="../navigation/bottom-navigation/" title="Bottom Navigation" class="md-nav__link">
Bottom Navigation
</a>
</li>
<li class="md-nav__item">
<a href="../navigation/task-stacks/" title="Navigation and Task Stacks" class="md-nav__link">
Navigation and Task Stacks
</a>
</li>
<li class="md-nav__item">
<a href="../navigation/common-intents/" title="Common Intents" class="md-nav__link">
Common Intents
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a href="../fragments/" title="Fragments" class="md-nav__link">
Fragments
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
<label class="md-nav__link md-nav__link--active" for="__toc">
Common Intents
</label>
<a href="./" title="Common Intents" class="md-nav__link md-nav__link--active">
Common Intents
</a>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul class="md-nav__list" data-md-scrollfix>
<li class="md-nav__item">
<a href="#phone-call" title="Phone Call" class="md-nav__link">
Phone Call
</a>
</li>
<li class="md-nav__item">
<a href="#send-email-to-phone-email-client" title="Send Email (to Phone Email Client)" class="md-nav__link">
Send Email (to Phone Email Client)
</a>
</li>
<li class="md-nav__item">
<a href="#send-email-to-gmail" title="Send Email (to Gmail)" class="md-nav__link">
Send Email (to Gmail)
</a>
</li>
<li class="md-nav__item">
<a href="#launch-website" title="Launch Website" class="md-nav__link">
Launch Website
</a>
</li>
<li class="md-nav__item">
<a href="#open-google-play-store" title="Open Google Play Store" class="md-nav__link">
Open Google Play Store
</a>
</li>
<li class="md-nav__item">
<a href="#compose-sms" title="Compose SMS" class="md-nav__link">
Compose SMS
</a>
</li>
<li class="md-nav__item">
<a href="#google-maps" title="Google Maps" class="md-nav__link">
Google Maps
</a>
</li>
<li class="md-nav__item">
<a href="#capture-photo" title="Capture Photo" class="md-nav__link">
Capture Photo
</a>
</li>
<li class="md-nav__item">
<a href="#sharing-content" title="Sharing Content" class="md-nav__link">
Sharing Content
</a>
</li>
<li class="md-nav__item">
<a href="#sharing-content-with-intents" title="Sharing Content with Intents" class="md-nav__link">
Sharing Content with Intents
</a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a href="#sharing-local-content" title="Sharing Local Content" class="md-nav__link">
Sharing Local Content
</a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a href="#sending-html" title="Sending HTML" class="md-nav__link">
Sending HTML
</a>
</li>
<li class="md-nav__item">
<a href="#sending-images" title="Sending Images" class="md-nav__link">
Sending Images
</a>
</li>
<li class="md-nav__item">
<a href="#sending-links" title="Sending Links" class="md-nav__link">
Sending Links
</a>
</li>
<li class="md-nav__item">
<a href="#sharing-multiple-types" title="Sharing Multiple Types" class="md-nav__link">
Sharing Multiple Types
</a>
</li>
<li class="md-nav__item">
<a href="#share-in-facebook" title="Share in Facebook" class="md-nav__link">
Share in Facebook
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a href="#sharing-remote-images" title="Sharing Remote Images" class="md-nav__link">
Sharing Remote Images
</a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a href="#sharing-files-with-api-24-or-higher" title="Sharing Files with API 24 or higher" class="md-nav__link">
Sharing Files with API 24 or higher
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a href="#shareactionprovider" title="ShareActionProvider" class="md-nav__link">
ShareActionProvider
</a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a href="#attach-share-intent-for-remote-image" title="Attach Share Intent for Remote Image" class="md-nav__link">
Attach Share Intent for Remote Image
</a>
</li>
<li class="md-nav__item">
<a href="#attach-share-for-a-webview-url" title="Attach Share for a WebView URL" class="md-nav__link">
Attach Share for a WebView URL
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a href="../android-permissions/" title="Understanding Android Permissions" class="md-nav__link">
Understanding Android Permissions
</a>
</li>
<li class="md-nav__item">
<a href="../networking/" title="Networking" class="md-nav__link">
Networking
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul class="md-nav__list" data-md-scrollfix>
<li class="md-nav__item">
<a href="#phone-call" title="Phone Call" class="md-nav__link">
Phone Call
</a>
</li>
<li class="md-nav__item">
<a href="#send-email-to-phone-email-client" title="Send Email (to Phone Email Client)" class="md-nav__link">
Send Email (to Phone Email Client)
</a>
</li>
<li class="md-nav__item">
<a href="#send-email-to-gmail" title="Send Email (to Gmail)" class="md-nav__link">
Send Email (to Gmail)
</a>
</li>
<li class="md-nav__item">
<a href="#launch-website" title="Launch Website" class="md-nav__link">
Launch Website
</a>
</li>
<li class="md-nav__item">
<a href="#open-google-play-store" title="Open Google Play Store" class="md-nav__link">
Open Google Play Store
</a>
</li>
<li class="md-nav__item">
<a href="#compose-sms" title="Compose SMS" class="md-nav__link">
Compose SMS
</a>
</li>
<li class="md-nav__item">
<a href="#google-maps" title="Google Maps" class="md-nav__link">
Google Maps
</a>
</li>
<li class="md-nav__item">
<a href="#capture-photo" title="Capture Photo" class="md-nav__link">
Capture Photo
</a>
</li>
<li class="md-nav__item">
<a href="#sharing-content" title="Sharing Content" class="md-nav__link">
Sharing Content
</a>
</li>
<li class="md-nav__item">
<a href="#sharing-content-with-intents" title="Sharing Content with Intents" class="md-nav__link">
Sharing Content with Intents
</a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a href="#sharing-local-content" title="Sharing Local Content" class="md-nav__link">
Sharing Local Content
</a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a href="#sending-html" title="Sending HTML" class="md-nav__link">
Sending HTML
</a>
</li>
<li class="md-nav__item">
<a href="#sending-images" title="Sending Images" class="md-nav__link">
Sending Images
</a>
</li>
<li class="md-nav__item">
<a href="#sending-links" title="Sending Links" class="md-nav__link">
Sending Links
</a>
</li>
<li class="md-nav__item">
<a href="#sharing-multiple-types" title="Sharing Multiple Types" class="md-nav__link">
Sharing Multiple Types
</a>
</li>
<li class="md-nav__item">
<a href="#share-in-facebook" title="Share in Facebook" class="md-nav__link">
Share in Facebook
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a href="#sharing-remote-images" title="Sharing Remote Images" class="md-nav__link">
Sharing Remote Images
</a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a href="#sharing-files-with-api-24-or-higher" title="Sharing Files with API 24 or higher" class="md-nav__link">
Sharing Files with API 24 or higher
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a href="#shareactionprovider" title="ShareActionProvider" class="md-nav__link">
ShareActionProvider
</a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a href="#attach-share-intent-for-remote-image" title="Attach Share Intent for Remote Image" class="md-nav__link">
Attach Share Intent for Remote Image
</a>
</li>
<li class="md-nav__item">
<a href="#attach-share-for-a-webview-url" title="Attach Share for a WebView URL" class="md-nav__link">
Attach Share for a WebView URL
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<a href="https://github.com/Peruzal/xamarin-forms-guide/edit/master/docs/common-intents.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
<h1 id="common-implicit-intents">Common Implicit Intents<a class="headerlink" href="#common-implicit-intents" title="Permanent link">&para;</a></h1>
<p>Let's take a look at the most common implicit intents such as making a phone call, launching a web address, sending an email, etc.</p>
<h2 id="phone-call">Phone Call<a class="headerlink" href="#phone-call" title="Permanent link">&para;</a></h2>
<p>Permissions:</p>
<div class="codehilite"><pre><span></span><span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">&quot;android.permission.CALL_PHONE&quot;</span> <span class="nt">/&gt;</span>
``` 0o9

Intent:

```java
Intent callIntent = new Intent(Intent.ACTION_CALL);
callIntent.setData(Uri.parse(&quot;tel:0377778888&quot;));
if (callIntent.resolveActivity(getPackageManager()) != null) {
    startActivity(callIntent);
}
</pre></div>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>It's possible that a user won't have any apps that handle the implicit intent you send to <em>startActivity()</em>. If that happens, the call will fail and your app will crash. To verify that an activity will receive the intent, call <em>resolveActivity()</em> on your <em>Intent</em> object. If the result is non-null, then there is at least one app that can handle the intent and it's safe to call <em>startActivity()</em>. If the result is null, you should not use the intent and, if possible, you should disable the feature that issue the intent.</p>
</div>
<h2 id="send-email-to-phone-email-client">Send Email (to Phone Email Client)<a class="headerlink" href="#send-email-to-phone-email-client" title="Permanent link">&para;</a></h2>
<p>Compose an email in the phone email client:</p>
<div class="codehilite"><pre><span></span><span class="n">Intent</span> <span class="n">intent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">ACTION_SEND</span><span class="o">);</span>
<span class="n">intent</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">&quot;plain/text&quot;</span><span class="o">);</span>
<span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">EXTRA_EMAIL</span><span class="o">,</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="0c7f6361694c69616d6560226d68687e697f7f">[email&#160;protected]</a>&quot;</span> <span class="o">});</span>
<span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">EXTRA_SUBJECT</span><span class="o">,</span> <span class="s">&quot;subject&quot;</span><span class="o">);</span>
<span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">EXTRA_TEXT</span><span class="o">,</span> <span class="s">&quot;mail body&quot;</span><span class="o">);</span>
<span class="k">if</span> <span class="o">(</span><span class="n">intent</span><span class="o">.</span><span class="na">resolveActivity</span><span class="o">(</span><span class="n">getPackageManager</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">startActivity</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">createChooser</span><span class="o">(</span><span class="n">intent</span><span class="o">,</span> <span class="s">&quot;&quot;</span><span class="o">));</span>
<span class="o">}</span>
</pre></div>
<h2 id="send-email-to-gmail">Send Email (to Gmail)<a class="headerlink" href="#send-email-to-gmail" title="Permanent link">&para;</a></h2>
<p>Gmail does not examine the extra Intent fields, so in order to use this intent, you need to use the <code>Intent.ACTION_SENDTO</code> and pass a <code>mailto:</code> URI with the subject and body URL encoded.</p>
<div class="codehilite"><pre><span></span><span class="n">String</span> <span class="n">uriText</span> <span class="o">=</span>
    <span class="s">&quot;mailto:<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="f28b9d8780979f939b9eb2959f939b9edc919d9f">[email&#160;protected]</a>&quot;</span> <span class="o">+</span> 
    <span class="s">&quot;?subject=&quot;</span> <span class="o">+</span> <span class="n">Uri</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">&quot;some subject text here&quot;</span><span class="o">)</span> <span class="o">+</span> 
    <span class="s">&quot;&amp;body=&quot;</span> <span class="o">+</span> <span class="n">Uri</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">&quot;some text here&quot;</span><span class="o">);</span>

<span class="n">Uri</span> <span class="n">uri</span> <span class="o">=</span> <span class="n">Uri</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">uriText</span><span class="o">);</span>

<span class="n">Intent</span> <span class="n">sendIntent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">ACTION_SENDTO</span><span class="o">);</span>
<span class="n">sendIntent</span><span class="o">.</span><span class="na">setData</span><span class="o">(</span><span class="n">uri</span><span class="o">);</span>
<span class="k">if</span> <span class="o">(</span><span class="n">sendIntent</span><span class="o">.</span><span class="na">resolveActivity</span><span class="o">(</span><span class="n">getPackageManager</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
   <span class="n">startActivity</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">createChooser</span><span class="o">(</span><span class="n">sendIntent</span><span class="o">,</span> <span class="s">&quot;Send email&quot;</span><span class="o">));</span> 
<span class="o">}</span>
</pre></div>
<h2 id="launch-website">Launch Website<a class="headerlink" href="#launch-website" title="Permanent link">&para;</a></h2>
<p>Launch a website in the phone browser:</p>
<div class="codehilite"><pre><span></span><span class="n">Intent</span> <span class="n">browserIntent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">ACTION_VIEW</span><span class="o">,</span> <span class="n">Uri</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">&quot;http://www.google.com&quot;</span><span class="o">));</span>
<span class="k">if</span> <span class="o">(</span><span class="n">browserIntent</span><span class="o">.</span><span class="na">resolveActivity</span><span class="o">(</span><span class="n">getPackageManager</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">startActivity</span><span class="o">(</span><span class="n">browserIntent</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
<p>You can also launch a Chrome tab if the app. Take a look at [[this guide|Chrome-Custom-Tabs#setup]] for how to launch this implicit intent.</p>
<h2 id="open-google-play-store">Open Google Play Store<a class="headerlink" href="#open-google-play-store" title="Permanent link">&para;</a></h2>
<p>Open app page on Google Play:</p>
<div class="codehilite"><pre><span></span><span class="n">Intent</span> <span class="n">intent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">ACTION_VIEW</span><span class="o">,</span> 
  <span class="n">Uri</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">&quot;market://details?id=&quot;</span> <span class="o">+</span> <span class="n">context</span><span class="o">.</span><span class="na">getPackageName</span><span class="o">()));</span>
<span class="k">if</span> <span class="o">(</span><span class="n">intent</span><span class="o">.</span><span class="na">resolveActivity</span><span class="o">(</span><span class="n">getPackageManager</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">startActivity</span><span class="o">(</span><span class="n">intent</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
<h2 id="compose-sms">Compose SMS<a class="headerlink" href="#compose-sms" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><span class="n">Uri</span> <span class="n">smsUri</span> <span class="o">=</span> <span class="n">Uri</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">&quot;tel:&quot;</span> <span class="o">+</span> <span class="n">to</span><span class="o">);</span>
<span class="n">Intent</span> <span class="n">intent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">ACTION_VIEW</span><span class="o">,</span> <span class="n">smsUri</span><span class="o">);</span>
<span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">&quot;address&quot;</span><span class="o">,</span> <span class="n">to</span><span class="o">);</span>
<span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">&quot;sms_body&quot;</span><span class="o">,</span> <span class="n">message</span><span class="o">);</span>
<span class="n">intent</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">&quot;vnd.android-dir/mms-sms&quot;</span><span class="o">);</span><span class="c1">//here setType will set the previous data null.</span>
<span class="k">if</span> <span class="o">(</span><span class="n">intent</span><span class="o">.</span><span class="na">resolveActivity</span><span class="o">(</span><span class="n">getPackageManager</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">startActivity</span><span class="o">(</span><span class="n">intent</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
<h2 id="google-maps">Google Maps<a class="headerlink" href="#google-maps" title="Permanent link">&para;</a></h2>
<p>Show location in maps application:</p>
<div class="codehilite"><pre><span></span> <span class="n">Intent</span> <span class="n">intent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">();</span>
<span class="n">intent</span><span class="o">.</span><span class="na">setAction</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">ACTION_VIEW</span><span class="o">);</span>
<span class="n">String</span> <span class="n">data</span> <span class="o">=</span> <span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;geo:%s,%s&quot;</span><span class="o">,</span> <span class="n">latitude</span><span class="o">,</span> <span class="n">longitude</span><span class="o">);</span>
<span class="k">if</span> <span class="o">(</span><span class="n">zoomLevel</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;%s?z=%s&quot;</span><span class="o">,</span> <span class="n">data</span><span class="o">,</span> <span class="n">zoomLevel</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">intent</span><span class="o">.</span><span class="na">setData</span><span class="o">(</span><span class="n">Uri</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">data</span><span class="o">));</span>
<span class="k">if</span> <span class="o">(</span><span class="n">intent</span><span class="o">.</span><span class="na">resolveActivity</span><span class="o">(</span><span class="n">getPackageManager</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">startActivity</span><span class="o">(</span><span class="n">intent</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
<h2 id="capture-photo">Capture Photo<a class="headerlink" href="#capture-photo" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><span class="n">Uri</span> <span class="n">uri</span> <span class="o">=</span> <span class="n">Uri</span><span class="o">.</span><span class="na">fromFile</span><span class="o">(</span><span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="n">file</span><span class="o">));</span>
<span class="n">Intent</span> <span class="n">intent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">MediaStore</span><span class="o">.</span><span class="na">ACTION_IMAGE_CAPTURE</span><span class="o">);</span>
<span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">MediaStore</span><span class="o">.</span><span class="na">EXTRA_OUTPUT</span><span class="o">,</span> <span class="n">uri</span><span class="o">);</span>
<span class="k">if</span> <span class="o">(</span><span class="n">intent</span><span class="o">.</span><span class="na">resolveActivity</span><span class="o">(</span><span class="n">getPackageManager</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">startActivity</span><span class="o">(</span><span class="n">intent</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
<h2 id="sharing-content">Sharing Content<a class="headerlink" href="#sharing-content" title="Permanent link">&para;</a></h2>
<p>Images or binary data:</p>
<div class="codehilite"><pre><span></span><span class="n">Intent</span> <span class="n">sharingIntent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">ACTION_SEND</span><span class="o">);</span>
<span class="n">sharingIntent</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">&quot;image/jpg&quot;</span><span class="o">);</span>
<span class="n">Uri</span> <span class="n">uri</span> <span class="o">=</span> <span class="n">Uri</span><span class="o">.</span><span class="na">fromFile</span><span class="o">(</span><span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="n">getFilesDir</span><span class="o">(),</span> <span class="s">&quot;foo.jpg&quot;</span><span class="o">));</span>
<span class="n">sharingIntent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">EXTRA_STREAM</span><span class="o">,</span> <span class="n">uri</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
<span class="k">if</span> <span class="o">(</span><span class="n">sharingIntent</span><span class="o">.</span><span class="na">resolveActivity</span><span class="o">(</span><span class="n">getPackageManager</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">startActivity</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">createChooser</span><span class="o">(</span><span class="n">sharingIntent</span><span class="o">,</span> <span class="s">&quot;Share image using&quot;</span><span class="o">));</span>
<span class="o">}</span>
</pre></div>
<p>or HTML:</p>
<div class="codehilite"><pre><span></span><span class="n">Intent</span> <span class="n">sharingIntent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">ACTION_SEND</span><span class="o">);</span>
<span class="n">sharingIntent</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">&quot;text/html&quot;</span><span class="o">);</span>
<span class="n">sharingIntent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">android</span><span class="o">.</span><span class="na">content</span><span class="o">.</span><span class="na">Intent</span><span class="o">.</span><span class="na">EXTRA_TEXT</span><span class="o">,</span> <span class="n">Html</span><span class="o">.</span><span class="na">fromHtml</span><span class="o">(</span><span class="s">&quot;&lt;p&gt;This is the text shared.&lt;/p&gt;&quot;</span><span class="o">));</span>
<span class="k">if</span> <span class="o">(</span><span class="n">sharingIntent</span><span class="o">.</span><span class="na">resolveActivity</span><span class="o">(</span><span class="n">getPackageManager</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">startActivity</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">createChooser</span><span class="o">(</span><span class="n">sharingIntent</span><span class="o">,</span><span class="s">&quot;Share using&quot;</span><span class="o">));</span>
<span class="o">}</span>
</pre></div>
<h2 id="sharing-content-with-intents">Sharing Content with Intents<a class="headerlink" href="#sharing-content-with-intents" title="Permanent link">&para;</a></h2>
<p>Intents allow us to communicate data between Android apps and implicit intents can also accept actions. One of those actions is the <code>ACTION_SEND</code> command which indicates we want to send data across apps. To send data, all you need to do is specify the data and its type, and the system will identify compatible receiving activities and display them to the user.</p>
<p>Sending and receiving data between applications with intents is most commonly used for social sharing of content. Intents allow users to share information quickly and easily, using their favorite applications.</p>
<h3 id="sharing-local-content">Sharing Local Content<a class="headerlink" href="#sharing-local-content" title="Permanent link">&para;</a></h3>
<p>You can send content by invoking an implicit intent with <code>ACTION_SEND</code>. </p>
<h4 id="sending-html">Sending HTML<a class="headerlink" href="#sending-html" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="n">Intent</span> <span class="n">sharingIntent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">ACTION_SEND</span><span class="o">);</span>
<span class="n">sharingIntent</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">&quot;text/html&quot;</span><span class="o">);</span>
<span class="n">sharingIntent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">android</span><span class="o">.</span><span class="na">content</span><span class="o">.</span><span class="na">Intent</span><span class="o">.</span><span class="na">EXTRA_TEXT</span><span class="o">,</span> <span class="n">Html</span><span class="o">.</span><span class="na">fromHtml</span><span class="o">(</span><span class="s">&quot;&lt;p&gt;This is the text shared.&lt;/p&gt;&quot;</span><span class="o">));</span>
<span class="n">startActivity</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">createChooser</span><span class="o">(</span><span class="n">sharingIntent</span><span class="o">,</span> <span class="s">&quot;Share using&quot;</span><span class="o">));</span>
</pre></div>
<h4 id="sending-images">Sending Images<a class="headerlink" href="#sending-images" title="Permanent link">&para;</a></h4>
<p>To send images or binary data:</p>
<div class="codehilite"><pre><span></span><span class="kd">final</span> <span class="n">Intent</span> <span class="n">shareIntent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">ACTION_SEND</span><span class="o">);</span>
<span class="n">shareIntent</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">&quot;image/jpg&quot;</span><span class="o">);</span>
<span class="kd">final</span> <span class="n">File</span> <span class="n">photoFile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="n">getFilesDir</span><span class="o">(),</span> <span class="s">&quot;foo.jpg&quot;</span><span class="o">);</span>
<span class="n">shareIntent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">EXTRA_STREAM</span><span class="o">,</span> <span class="n">Uri</span><span class="o">.</span><span class="na">fromFile</span><span class="o">(</span><span class="n">photoFile</span><span class="o">));</span>
<span class="n">startActivity</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">createChooser</span><span class="o">(</span><span class="n">shareIntent</span><span class="o">,</span> <span class="s">&quot;Share image using&quot;</span><span class="o">));</span>
</pre></div>
<h4 id="sending-links">Sending Links<a class="headerlink" href="#sending-links" title="Permanent link">&para;</a></h4>
<p>Sending URL links should simply use <code>text/plain</code> type:</p>
<div class="codehilite"><pre><span></span><span class="n">Intent</span> <span class="n">shareIntent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">ACTION_SEND</span><span class="o">);</span>
<span class="n">shareIntent</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">&quot;text/plain&quot;</span><span class="o">);</span> 
<span class="n">shareIntent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">EXTRA_TEXT</span><span class="o">,</span> <span class="s">&quot;http://codepath.com&quot;</span><span class="o">);</span>
<span class="n">startActivity</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">createChooser</span><span class="o">(</span><span class="n">shareIntent</span><span class="o">,</span> <span class="s">&quot;Share link using&quot;</span><span class="o">));</span>
</pre></div>
<h4 id="sharing-multiple-types">Sharing Multiple Types<a class="headerlink" href="#sharing-multiple-types" title="Permanent link">&para;</a></h4>
<p>In certain cases, we might want to send an image along with text. This can be done with:</p>
<div class="codehilite"><pre><span></span><span class="n">String</span> <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;Look at my awesome picture&quot;</span><span class="o">;</span>
<span class="n">Uri</span> <span class="n">pictureUri</span> <span class="o">=</span> <span class="n">Uri</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">&quot;file://my_picture&quot;</span><span class="o">);</span>
<span class="n">Intent</span> <span class="n">shareIntent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">();</span>
<span class="n">shareIntent</span><span class="o">.</span><span class="na">setAction</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">ACTION_SEND</span><span class="o">);</span>
<span class="n">shareIntent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">EXTRA_TEXT</span><span class="o">,</span> <span class="n">text</span><span class="o">);</span>
<span class="n">shareIntent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">EXTRA_STREAM</span><span class="o">,</span> <span class="n">imageUri</span><span class="o">);</span>
<span class="n">shareIntent</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">&quot;image/*&quot;</span><span class="o">);</span>
<span class="n">shareIntent</span><span class="o">.</span><span class="na">addFlags</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">FLAG_GRANT_READ_URI_PERMISSION</span><span class="o">);</span>
<span class="n">startActivity</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">createChooser</span><span class="o">(</span><span class="n">shareIntent</span><span class="o">,</span> <span class="s">&quot;Share images...&quot;</span><span class="o">));</span>
</pre></div>
<p>Sharing multiple images can be done with:</p>
<div class="codehilite"><pre><span></span><span class="n">Intent</span> <span class="n">shareIntent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">ACTION_SEND_MULTIPLE</span><span class="o">);</span>
<span class="n">shareIntent</span><span class="o">.</span><span class="na">putParcelableArrayListExtra</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">EXTRA_STREAM</span><span class="o">,</span> <span class="n">imageUris</span><span class="o">);</span>
<span class="n">shareIntent</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">&quot;image/*&quot;</span><span class="o">);</span>
</pre></div>
<p>See this <a href="https://stackoverflow.com/a/27501666">stackoverflow post</a> for more details. </p>
<p><strong>Note:</strong> Facebook does not properly recognize multiple shared elements. See <a href="https://developers.facebook.com/x/bugs/332619626816423/">this facebook specific bug for more details</a> and share using their SDK. </p>
<h4 id="share-in-facebook">Share in Facebook<a class="headerlink" href="#share-in-facebook" title="Permanent link">&para;</a></h4>
<p>Facebook doesn't work well with normal sharing intents when sharing multiple content elements as <a href="https://developers.facebook.com/x/bugs/332619626816423/">discussed in this bug</a>. To share posts with facebook, we need to:</p>
<ol>
<li>Create a <a href="https://developers.facebook.com/apps/">new Facebook app here</a> (follow the instructions)</li>
<li>Add the Facebook SDK to your Android project</li>
<li>Share using this code snippet:</li>
</ol>
<div class="codehilite"><pre><span></span>   <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setupFacebookShareIntent</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">ShareDialog</span> <span class="n">shareDialog</span><span class="o">;</span>
        <span class="n">FacebookSdk</span><span class="o">.</span><span class="na">sdkInitialize</span><span class="o">(</span><span class="n">getApplicationContext</span><span class="o">());</span>
        <span class="n">shareDialog</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ShareDialog</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>

        <span class="n">ShareLinkContent</span> <span class="n">linkContent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ShareLinkContent</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
                <span class="o">.</span><span class="na">setContentTitle</span><span class="o">(</span><span class="s">&quot;Title&quot;</span><span class="o">)</span>
                <span class="o">.</span><span class="na">setContentDescription</span><span class="o">(</span>
                        <span class="s">&quot;\&quot;Body Of Test Post\&quot;&quot;</span><span class="o">)</span>
                <span class="o">.</span><span class="na">setContentUrl</span><span class="o">(</span><span class="n">Uri</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">&quot;http://someurl.com/here&quot;</span><span class="o">))</span>
                <span class="o">.</span><span class="na">build</span><span class="o">();</span>

        <span class="n">shareDialog</span><span class="o">.</span><span class="na">show</span><span class="o">(</span><span class="n">linkContent</span><span class="o">);</span>
    <span class="o">}</span>
</pre></div>
<h3 id="sharing-remote-images">Sharing Remote Images<a class="headerlink" href="#sharing-remote-images" title="Permanent link">&para;</a></h3>
<p>You may want to send an image that were loaded from a remote URL. Assuming you are using a third party library like <code>Picasso</code>, here is how you might share an image that came from the network and was loaded into an ImageView. There are two ways to accomplish this. The first way, shown below, takes the bitmap from the view and loads it into a file. </p>
<div class="codehilite"><pre><span></span><span class="c1">// Get access to ImageView </span>
<span class="n">ImageView</span> <span class="n">ivImage</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">ivResult</span><span class="o">);</span>
<span class="c1">// Fire async request to load image</span>
<span class="n">Picasso</span><span class="o">.</span><span class="na">with</span><span class="o">(</span><span class="n">context</span><span class="o">).</span><span class="na">load</span><span class="o">(</span><span class="n">imageUrl</span><span class="o">).</span><span class="na">into</span><span class="o">(</span><span class="n">ivImage</span><span class="o">);</span>
</pre></div>
<p>and then later assuming after the image has completed loading, this is how you can trigger a share:</p>
<div class="codehilite"><pre><span></span><span class="c1">// Can be triggered by a view event such as a button press</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onShareItem</span><span class="o">(</span><span class="n">View</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// Get access to bitmap image from view</span>
    <span class="n">ImageView</span> <span class="n">ivImage</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">ivResult</span><span class="o">);</span>
    <span class="c1">// Get access to the URI for the bitmap</span>
    <span class="n">Uri</span> <span class="n">bmpUri</span> <span class="o">=</span> <span class="n">getLocalBitmapUri</span><span class="o">(</span><span class="n">ivImage</span><span class="o">);</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">bmpUri</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// Construct a ShareIntent with link to image</span>
        <span class="n">Intent</span> <span class="n">shareIntent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">();</span>
        <span class="n">shareIntent</span><span class="o">.</span><span class="na">setAction</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">ACTION_SEND</span><span class="o">);</span>
        <span class="n">shareIntent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">EXTRA_STREAM</span><span class="o">,</span> <span class="n">bmpUri</span><span class="o">);</span>
        <span class="n">shareIntent</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">&quot;image/*&quot;</span><span class="o">);</span>
        <span class="c1">// Launch sharing dialog for image</span>
        <span class="n">startActivity</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">createChooser</span><span class="o">(</span><span class="n">shareIntent</span><span class="o">,</span> <span class="s">&quot;Share Image&quot;</span><span class="o">));</span>    
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="c1">// ...sharing failed, handle error</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// Returns the URI path to the Bitmap displayed in specified ImageView</span>
<span class="kd">public</span> <span class="n">Uri</span> <span class="nf">getLocalBitmapUri</span><span class="o">(</span><span class="n">ImageView</span> <span class="n">imageView</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// Extract Bitmap from ImageView drawable</span>
    <span class="n">Drawable</span> <span class="n">drawable</span> <span class="o">=</span> <span class="n">imageView</span><span class="o">.</span><span class="na">getDrawable</span><span class="o">();</span>
    <span class="n">Bitmap</span> <span class="n">bmp</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">drawable</span> <span class="k">instanceof</span> <span class="n">BitmapDrawable</span><span class="o">){</span>
       <span class="n">bmp</span> <span class="o">=</span> <span class="o">((</span><span class="n">BitmapDrawable</span><span class="o">)</span> <span class="n">imageView</span><span class="o">.</span><span class="na">getDrawable</span><span class="o">()).</span><span class="na">getBitmap</span><span class="o">();</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
       <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="c1">// Store image to default external storage directory</span>
    <span class="n">Uri</span> <span class="n">bmpUri</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
    <span class="k">try</span> <span class="o">{</span>
        <span class="c1">// Use methods on Context to access package-specific directories on external storage.</span>
        <span class="c1">// This way, you don&#39;t need to request external read/write permission.</span>
        <span class="c1">// See https://youtu.be/5xVh-7ywKpE?t=25m25s</span>
        <span class="n">File</span> <span class="n">file</span> <span class="o">=</span>  <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="n">getExternalFilesDir</span><span class="o">(</span><span class="n">Environment</span><span class="o">.</span><span class="na">DIRECTORY_PICTURES</span><span class="o">),</span> <span class="s">&quot;share_image_&quot;</span> <span class="o">+</span> <span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot;.png&quot;</span><span class="o">);</span>
        <span class="n">FileOutputStream</span> <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileOutputStream</span><span class="o">(</span><span class="n">file</span><span class="o">);</span>
        <span class="n">bmp</span><span class="o">.</span><span class="na">compress</span><span class="o">(</span><span class="n">Bitmap</span><span class="o">.</span><span class="na">CompressFormat</span><span class="o">.</span><span class="na">PNG</span><span class="o">,</span> <span class="mi">90</span><span class="o">,</span> <span class="n">out</span><span class="o">);</span>
        <span class="n">out</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="c1">// **Warning:** This will fail for API &gt;= 24, use a FileProvider as shown below instead.</span>
        <span class="n">bmpUri</span> <span class="o">=</span> <span class="n">Uri</span><span class="o">.</span><span class="na">fromFile</span><span class="o">(</span><span class="n">file</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">bmpUri</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
<p>Make sure to setup the "SD Card" within the emulator device settings:</p>
<p><img src="https://i.imgur.com/nvA2ZKz.png" width="300" /></p>
<p>Note that if you are <strong>using API 24 or above</strong>, see the section below on using a <code>FileProvider</code> to work around new file restrictions.</p>
<h4 id="sharing-files-with-api-24-or-higher">Sharing Files with API 24 or higher<a class="headerlink" href="#sharing-files-with-api-24-or-higher" title="Permanent link">&para;</a></h4>
<p>If you are using Android API 24 or higher, private <code>File</code> URI resources (file:///) cannot be shared. You must instead wrap the <code>File</code> object as a content provider (content://) using the <a href="https://developer.android.com/reference/android/support/v4/content/FileProvider.html">FileProvider</a> class.</p>
<p>First, you must declare this FileProvider in your <code>AndroidManifest.xml</code> file within the <code>&lt;application&gt;</code> tag:</p>
<div class="codehilite"><pre><span></span><span class="nt">&lt;provider</span>
  <span class="na">android:name=</span><span class="s">&quot;android.support.v4.content.FileProvider&quot;</span>
  <span class="na">android:authorities=</span><span class="s">&quot;com.codepath.fileprovider&quot;</span>
  <span class="na">android:exported=</span><span class="s">&quot;false&quot;</span>
  <span class="na">android:grantUriPermissions=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;meta-data</span>
            <span class="na">android:name=</span><span class="s">&quot;android.support.FILE_PROVIDER_PATHS&quot;</span>
            <span class="na">android:resource=</span><span class="s">&quot;@xml/fileprovider&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/provider&gt;</span>
</pre></div>
<p>Next, create a resource directory called <code>xml</code> and create a <code>fileprovider.xml</code>. Assuming you wish to grant access to the application's specific external storage directory, which requires requesting no additional permissions, you can declare this line as follows:</p>
<div class="codehilite"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="nt">&lt;paths&gt;</span>
    <span class="nt">&lt;external-files-path</span>
        <span class="na">name=</span><span class="s">&quot;images&quot;</span>
        <span class="na">path=</span><span class="s">&quot;Pictures&quot;</span> <span class="nt">/&gt;</span>

    <span class="c">&lt;!--Uncomment below to share the entire application specific directory --&gt;</span>
    <span class="c">&lt;!--&lt;external-path name=&quot;all_dirs&quot; path=&quot;.&quot;/&gt;--&gt;</span>
<span class="nt">&lt;/paths&gt;</span>
</pre></div>
<p>Finally, you will convert the File object into a content provider using the FileProvider class:</p>
<div class="codehilite"><pre><span></span><span class="c1">// getExternalFilesDir() + &quot;/Pictures&quot; should match the declaration in fileprovider.xml paths</span>
<span class="n">File</span> <span class="n">file</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="n">getExternalFilesDir</span><span class="o">(</span><span class="n">Environment</span><span class="o">.</span><span class="na">DIRECTORY_PICTURES</span><span class="o">),</span> <span class="s">&quot;share_image_&quot;</span> <span class="o">+</span> <span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot;.png&quot;</span><span class="o">);</span>

<span class="c1">// wrap File object into a content provider. NOTE: authority here should match authority in manifest declaration</span>
<span class="n">bmpUri</span> <span class="o">=</span> <span class="n">FileProvider</span><span class="o">.</span><span class="na">getUriForFile</span><span class="o">(</span><span class="n">MyActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="s">&quot;com.codepath.fileprovider&quot;</span><span class="o">,</span> <span class="n">file</span><span class="o">);</span>
</pre></div>
<p>Note that there are other XML tags you can use in the <code>fileprovider.xml</code>, which map to the File directory specified. In the example above, we use <code>Context.getExternalFilesDir(Environment.DIRECTORY_PICTURES)</code>, which corresponded to the <code>&lt;external-files-dir&gt;</code> XML tag in the declaration with the <code>Pictures</code> path explicitly specified. Here are all the options you can use too:</p>
<table>
<thead>
<tr>
<th>XML tag</th>
<th>Corresponding storage call</th>
<th>When to use</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;files-path&gt;</td>
<td>Context.getFilesDir()</td>
<td>data can only be viewed by app, deleted when uninstalled (<code>/data/data/[packagename]/files</code>)</td>
</tr>
<tr>
<td>&lt;external-files-dir&gt;</td>
<td>Context.getExternalFilesDir()</td>
<td>data can be read/write by the app, any apps granted with READ_STORAGE permission can read too, deleted when uninstalled (<code>/Android/data/[packagename]/files</code>)</td>
</tr>
<tr>
<td>&lt;cache-path&gt;</td>
<td>Context.getCacheDir()</td>
<td>temporary file storage</td>
</tr>
<tr>
<td>&lt;external-path&gt;</td>
<td>Environment.getExternalStoragePublicDirectory()</td>
<td>data can be read/write by the app, any apps can view, files not deleted when uninstalled</td>
</tr>
<tr>
<td>&lt;external-cache-path&gt;</td>
<td>Context.getExternalCacheDir()</td>
<td>temporary file storage with usually larger space</td>
</tr>
</tbody>
</table>
<p>If you are <strong>using API 23 or above</strong>, then you'll need to [[request runtime permissions|Managing-Runtime-Permissions-with-PermissionsDispatcher]] for <code>Manifest.permission.READ_EXTERNAL_STORAGE</code> and <code>Manifest.permission.WRITE_EXTERNAL_STORAGE</code> in order to share the image as shown above since newer versions require explicit permisions at runtime for accessing external storage. </p>
<p><strong>Note:</strong> There is a <a href="https://code.google.com/p/android/issues/detail?id=75447">common bug on emulators</a> that will cause <code>MediaStore.Images.Media.insertImage</code> to fail with <code>E/MediaStore﹕ Failed to insert image</code> unless the media directory is first initialized as described in the link.</p>
<h3 id="shareactionprovider">ShareActionProvider<a class="headerlink" href="#shareactionprovider" title="Permanent link">&para;</a></h3>
<p><img src="https://imgur.com/B8hEYut.png" /></p>
<p>This is how you can easily use an ActionBar share icon to activate a ShareIntent. The below focuses on the <strong>support ShareActionProvider</strong> for use with <code>AppCompatActivity</code>.</p>
<p><strong>Note:</strong> This is <strong>an alternative to using a sharing intent</strong> as described in the previous section. You either can use a sharing intent <strong>or</strong> the provider as described below. </p>
<p>First, we need to add an ActionBar menu item in <code>res/menu/</code> in the XML specifying the <code>ShareActionProvider</code> class. </p>
<div class="codehilite"><pre><span></span><span class="nt">&lt;menu</span> <span class="na">xmlns:android=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span>
      <span class="na">xmlns:app=</span><span class="s">&quot;http://schemas.android.com/apk/res-auto&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;item</span>
        <span class="na">android:id=</span><span class="s">&quot;@+id/menu_item_share&quot;</span>
        <span class="na">app:showAsAction=</span><span class="s">&quot;ifRoom&quot;</span>
        <span class="na">android:title=</span><span class="s">&quot;Share&quot;</span>
        <span class="na">app:actionProviderClass=</span><span class="s">&quot;android.support.v7.widget.ShareActionProvider&quot;</span> <span class="nt">/&gt;</span>
    ...
<span class="nt">&lt;/menu&gt;</span>
</pre></div>
<p>Next, get access to share provider menu item in the Activity so we can attach the share intent later:</p>
<div class="codehilite"><pre><span></span><span class="kd">private</span> <span class="n">ShareActionProvider</span> <span class="n">miShareAction</span><span class="o">;</span>

<span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onCreateOptionsMenu</span><span class="o">(</span><span class="n">Menu</span> <span class="n">menu</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// Inflate menu resource file.</span>
    <span class="n">getMenuInflater</span><span class="o">().</span><span class="na">inflate</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">menu</span><span class="o">.</span><span class="na">second_activity</span><span class="o">,</span> <span class="n">menu</span><span class="o">);</span>
    <span class="c1">// Locate MenuItem with ShareActionProvider</span>
    <span class="n">MenuItem</span> <span class="n">item</span> <span class="o">=</span> <span class="n">menu</span><span class="o">.</span><span class="na">findItem</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">menu_item_share</span><span class="o">);</span>
    <span class="c1">// Fetch reference to the share action provider</span>
    <span class="n">miShareAction</span> <span class="o">=</span> <span class="o">(</span><span class="n">ShareActionProvider</span><span class="o">)</span> <span class="n">MenuItemCompat</span><span class="o">.</span><span class="na">getActionProvider</span><span class="o">(</span><span class="n">item</span><span class="o">);</span>
    <span class="c1">// Return true to display menu</span>
    <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
<p><strong>Note</strong>: <code>ShareActionProvider</code> does not respond to <code>onOptionsItemSelected()</code> events, so you set the share action provider as soon as it is possible. </p>
<h4 id="attach-share-intent-for-remote-image">Attach Share Intent for Remote Image<a class="headerlink" href="#attach-share-intent-for-remote-image" title="Permanent link">&para;</a></h4>
<p>Now, once you've setup the ShareActionProvider menu item, construct and attach the share intent for the provider but only <strong>after image has been loaded</strong> as shown below using the <code>Callback</code> for <code>Picasso</code>.</p>
<div class="codehilite"><pre><span></span><span class="kd">private</span> <span class="n">Intent</span> <span class="n">shareIntent</span><span class="o">;</span>

<span class="nd">@Override</span>
<span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// ...</span>
    <span class="c1">// Get access to ImageView</span>
    <span class="n">ImageView</span> <span class="n">ivImage</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">ivResult</span><span class="o">);</span>
    <span class="c1">// Load image async from remote URL, setup share when completed</span>
    <span class="n">Picasso</span><span class="o">.</span><span class="na">with</span><span class="o">(</span><span class="k">this</span><span class="o">).</span><span class="na">load</span><span class="o">(</span><span class="n">result</span><span class="o">.</span><span class="na">getFullUrl</span><span class="o">()).</span><span class="na">into</span><span class="o">(</span><span class="n">ivImage</span><span class="o">,</span> <span class="k">new</span> <span class="n">Callback</span><span class="o">()</span> <span class="o">{</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSuccess</span><span class="o">()</span> <span class="o">{</span>
            <span class="c1">// Setup share intent now that image has loaded</span>
            <span class="n">prepareShareIntent</span><span class="o">();</span>
            <span class="n">attachShareIntentAction</span><span class="o">();</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">()</span> <span class="o">{</span> 
            <span class="c1">// ...</span>
        <span class="o">}</span>
   <span class="o">});</span>
<span class="o">}</span>

<span class="c1">// Gets the image URI and setup the associated share intent to hook into the provider</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">prepareShareIntent</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">// Fetch Bitmap Uri locally</span>
    <span class="n">ImageView</span> <span class="n">ivImage</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">ivResult</span><span class="o">);</span>
    <span class="n">Uri</span> <span class="n">bmpUri</span> <span class="o">=</span> <span class="n">getLocalBitmapUri</span><span class="o">(</span><span class="n">ivImage</span><span class="o">);</span> <span class="c1">// see previous remote images section</span>
    <span class="c1">// Construct share intent as described above based on bitmap</span>
    <span class="n">shareIntent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">();</span>
    <span class="n">shareIntent</span><span class="o">.</span><span class="na">setAction</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">ACTION_SEND</span><span class="o">);</span>
    <span class="n">shareIntent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">EXTRA_STREAM</span><span class="o">,</span> <span class="n">bmpUri</span><span class="o">);</span>
    <span class="n">shareIntent</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">&quot;image/*&quot;</span><span class="o">);</span>   
<span class="o">}</span>

<span class="c1">// Attaches the share intent to the share menu item provider</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">attachShareIntentAction</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">miShareAction</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">shareIntent</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
        <span class="n">miShareAction</span><span class="o">.</span><span class="na">setShareIntent</span><span class="o">(</span><span class="n">shareIntent</span><span class="o">);</span>
<span class="o">}</span>

<span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onCreateOptionsMenu</span><span class="o">(</span><span class="n">Menu</span> <span class="n">menu</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// Inflate menu resource file.</span>
    <span class="n">getMenuInflater</span><span class="o">().</span><span class="na">inflate</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">menu</span><span class="o">.</span><span class="na">second_activity</span><span class="o">,</span> <span class="n">menu</span><span class="o">);</span>
    <span class="c1">// Locate MenuItem with ShareActionProvider</span>
    <span class="n">MenuItem</span> <span class="n">item</span> <span class="o">=</span> <span class="n">menu</span><span class="o">.</span><span class="na">findItem</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">menu_item_share</span><span class="o">);</span>
    <span class="c1">// Fetch reference to the share action provider</span>
    <span class="n">miShareAction</span> <span class="o">=</span> <span class="o">(</span><span class="n">ShareActionProvider</span><span class="o">)</span> <span class="n">MenuItemCompat</span><span class="o">.</span><span class="na">getActionProvider</span><span class="o">(</span><span class="n">item</span><span class="o">);</span>
    <span class="n">attachShareIntentAction</span><span class="o">();</span> <span class="c1">// call here in case this method fires second</span>
    <span class="c1">// Return true to display menu</span>
    <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
<p><strong>Note:</strong> Be sure to call <code>attachShareIntentAction</code> method <strong>both inside</strong> <code>onCreateOptionsMenu</code> AND inside the <code>onSuccess</code> for Picasso to ensure that the share attaches properly. </p>
<h4 id="attach-share-for-a-webview-url">Attach Share for a WebView URL<a class="headerlink" href="#attach-share-for-a-webview-url" title="Permanent link">&para;</a></h4>
<p>We can use a similar approach if we wish to create a share action for the current URL that is being loaded in a [[WebView|Working-with-the-WebView]]:</p>
<div class="codehilite"><pre><span></span><span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onCreateOptionsMenu</span><span class="o">(</span><span class="n">Menu</span> <span class="n">menu</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">MenuInflater</span> <span class="n">inflater</span> <span class="o">=</span> <span class="n">getMenuInflater</span><span class="o">();</span>
  <span class="n">inflater</span><span class="o">.</span><span class="na">inflate</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">menu</span><span class="o">.</span><span class="na">menu_article</span><span class="o">,</span> <span class="n">menu</span><span class="o">);</span>

  <span class="n">MenuItem</span> <span class="n">item</span> <span class="o">=</span> <span class="n">menu</span><span class="o">.</span><span class="na">findItem</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">menu_item_share</span><span class="o">);</span>
  <span class="n">ShareActionProvider</span> <span class="n">miShare</span> <span class="o">=</span> <span class="o">(</span><span class="n">ShareActionProvider</span><span class="o">)</span> <span class="n">MenuItemCompat</span><span class="o">.</span><span class="na">getActionProvider</span><span class="o">(</span><span class="n">item</span><span class="o">);</span>
  <span class="n">Intent</span> <span class="n">shareIntent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">ACTION_SEND</span><span class="o">);</span>
  <span class="n">shareIntent</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">&quot;text/plain&quot;</span><span class="o">);</span> 

  <span class="c1">// get reference to WebView</span>
  <span class="n">WebView</span> <span class="n">wvArticle</span> <span class="o">=</span> <span class="o">(</span><span class="n">WebView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">wvArticle</span><span class="o">);</span>
  <span class="c1">// pass in the URL currently being used by the WebView</span>
  <span class="n">shareIntent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">EXTRA_TEXT</span><span class="o">,</span> <span class="n">wvArticle</span><span class="o">.</span><span class="na">getUrl</span><span class="o">());</span>

  <span class="n">miShare</span><span class="o">.</span><span class="na">setShareIntent</span><span class="o">(</span><span class="n">shareIntent</span><span class="o">);</span>
  <span class="k">return</span> <span class="kd">super</span><span class="o">.</span><span class="na">onCreateOptionsMenu</span><span class="o">(</span><span class="n">menu</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
<p>Check out the <a href="https://developer.android.com/training/sharing/shareaction.html">official guide for easy sharing</a> for more information.</p>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<a href="../fragments/" title="Fragments" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Previous
</span>
Fragments
</span>
</div>
</a>
<a href="../android-permissions/" title="Understanding Android Permissions" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Next
</span>
Understanding Android Permissions
</span>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset" style="background-color: #ff9900; color: #fff">
<div class="md-grid" style="display: flex;">
<div style="flex: 1;">
<h2>Consulting</h2>
<ul style="list-style: none; margin-left: -15px;">
<li><a href="https://www.peruzal.com/mobile-app-development" target="_blank">Mobile App Development</a></li>
<li><a href="https://www.peruzal.com/mobile-app-device-security-and-penetration-testing" target="_blank">Mobile App Security and Penetration Testing</a></li>
<li><a href="https://www.peruzal.com/database-and-web-application-performance-tuning-and-consulting" target="_blank">Database Performance Tuning</a></li>
</ul>
</div>
<div style="flex: 1;">
<h2>Training</h2>
<ul style="list-style: none; margin-left: -15px;">
<li><a href="https://training.peruzal.com/courses/mobile/android-mobile-app-development-training-certification" target="_blank">Android Mobile App Development Training</a></li>
<li><a href="https://training.peruzal.com/courses/mobile/ios-mobile-app-development-training-with-swift" target="_blank">iOS Mobile App Development Training</a></li>
<li><a href="https://training.peruzal.com/courses/mobile/xamarin/xamarin-forms-mobile-app-development-training" target="_blank">Xamarin Forms Training</a></li>
<li><a href="https://training.peruzal.com/courses/mobile/xamarin/android-mobile-app-development-training-with-xamarin" target="_blank">Xamarin Android Training</a></li>
<li><a href="https://training.peruzal.com/courses/mobile/xamarin/ios-mobile-app-development-training-with-xamarin" target="_blank">Xamarin iOS Training</a></li>
<li><a href="https://training.peruzal.com/courses/web/reactjs-front-end-web-application-development" target="_blank">ReactJS Training</a></li>
<li><a href="https://training.peruzal.com/courses/web/reactjs-front-end-web-application-development" target="_blank">React Native Training</a></li>
<li><a href="https://training.peruzal.com/courses/gaming/unity-certified-game-development-training-south-africa" target="_blank">Unity Game Development Training</a></li>
<li><a href="https://training.peruzal.com/courses/database/mysql-database-administration-training-certification-south-africa" target="_blank">MySQL Database Adminstration Training</a></li>
<li><a href="https://training.peruzal.com/courses/programming/java-programming-training-certification" target="_blank">Java Programming Training</a></li>
<li><a href="https://training.peruzal.com/courses/programming/ruby-programming-training-certification" target="_blank">Ruby Programming Training</a></li>
</ul>
</div>
<div style="flex: 1">
<h2>Resources</h2>
<ul style="list-style: none; margin-left: -15px;">
<li><a href="https://guides.peruzal.com/xamarin-forms-guide" target="_blank">Xamarin Forms Guide</a></li>
<li><a href="https://guides.peruzal.com/v1/android-guides" target="_blank">Android Development Guides</a></li>
<li><a href="https://guides.peruzal.com/xamarin-ios" target="_blank">iOS Development Guides</a></li>
<li><a href="http://xamarin-android-guide.peruzal.com/" target="_blank">Xamarin Android Guides</a></li>
<li><a href="http://xamarin-ios-guide.peruzal.com/" target="_blank">Xamarin iOS Guide</a></li>
<li><a href="http://unity-certified-associate-guide.peruzal.com/" target="_blank">Unity Game Development Guide</a></li>
<li><a href="https://josephkandi.gitbooks.io/mysql-5-6-database-administration-certification-g/content/" target="_blank">MySQL Database Adminstration Guide</a></li>
<li><a href="https://josephkandi.gitbooks.io/learn-java-by-developing-an-android-app/content/" target="_blank">Java Programming Guide</a></li>
</ul>
</div>
</div>
<div class="md-footer-meta__inner" style="background-color: rgba(0,0,0,.87)">
<div style="text-align: center; font-size: 0.7rem">
<div class="md-footer-copyright__highlight">
<a href="https://www.peruzal.com" target="_blank">Copyright &copy 2019 - Peruzal</a>
</div>
</div>
<div style="text-align: center">
<link rel="stylesheet" href="../assets/fonts/font-awesome.css">
<a href="https://github.com/peruzal" target="_blank" class="md-footer-social__link fa fa-github"></a>
<a href="https://twitter.com/peruzal" target="_blank" class="md-footer-social__link fa fa-twitter"></a>
</div>
</div>
</div>
</footer>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-40772582-8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-40772582-8');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-6342782466521705",
          enable_page_level_ads: true
     });
</script>
</div>
<script src="../assets/javascripts/application.245445c6.js"></script>
<script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
<script src="../assets/js/utils.js"></script>
<script src="../assets/js/mixpanel.js"></script>
<script src="../assets/js/track.js"></script>
<script src="../assets/js/drift.js"></script>
</body>
</html>